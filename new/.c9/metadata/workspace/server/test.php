{"filter":false,"title":"test.php","tooltip":"/server/test.php","undoManager":{"mark":68,"position":68,"stack":[[{"start":{"row":0,"column":0},"end":{"row":254,"column":6},"action":"insert","lines":["<?php","    $servername = getenv('IP');","    $username = getenv('C9_USER');","    $password = \"\";","    ","    // Create connection","    $db = mysql_connect($servername, $username, $password);","    ","    // Check connection","    if ($db->connect_error) {","        die(\"Connection failed: \" . $db->connect_error);","    }","    ","    if (!mysql_select_db(\"13104036d\", $db)) {","        if (mysql_query(\"CREATE DATABASE 13104036d\",$db))","        {","            echo \"Database created\";","        }","        else","        {","            echo \"Error creating database: \" . mysql_error();","        }","        mysql_select_db(\"13104036d\", $db);","    }","","","","    $sql = \"","        SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;\";","    mysql_query($sql, $db);","    $sql = \"","        SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;\";","    mysql_query($sql, $db);","    $sql = \"","        SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';\";","    mysql_query($sql, $db);","","","// -- -----------------------------------------------------","// -- Schema 13104036d","// -- -----------------------------------------------------","    $sql = \"DROP SCHEMA IF EXISTS `13104036d` ;\";","    mysql_query($sql,$db);","","// -- -----------------------------------------------------","// -- Schema 13104036d","// -- -----------------------------------------------------","    $sql = \"CREATE SCHEMA IF NOT EXISTS `13104036d` DEFAULT CHARACTER SET utf8 ;\";","    mysql_query($sql,$db);","    $sql = \"USE `13104036d` ;\";","    mysql_query($sql,$db);","","// -- -----------------------------------------------------","// -- Table `13104036d`.`User`","// -- -----------------------------------------------------","    $sql = \"DROP TABLE IF EXISTS `13104036d`.`User` ;\";","    mysql_query($sql,$db);","","    $sql = \"CREATE TABLE IF NOT EXISTS `13104036d`.`User` (","        `UserAccount` VARCHAR(45) NOT NULL,","        `UserPassword` VARCHAR(45) NOT NULL,","        `UserEmail` VARCHAR(45) NOT NULL,","        `UserPhoneNum` DECIMAL(8) NOT NULL,","        `UserBirthday` DATE NOT NULL,","        `UserLoginTime` TIMESTAMP NOT NULL,","        `UserFirstName` VARCHAR(45) NOT NULL,","        `UserLastName` VARCHAR(45) NOT NULL,","        PRIMARY KEY (`UserAccount`),","        UNIQUE INDEX `UserAccount_UNIQUE` (`UserAccount` ASC),","        UNIQUE INDEX `UserEmail_UNIQUE` (`UserEmail` ASC),","        UNIQUE INDEX `UserPhoneNum_UNIQUE` (`UserPhoneNum` ASC))","        ENGINE = InnoDB;\";","    mysql_query($sql,$db);","","","// -- -----------------------------------------------------","// -- Table `13104036d`.`Destination`","// -- -----------------------------------------------------","    $sql = \"DROP TABLE IF EXISTS `13104036d`.`Destination` ;\";","    mysql_query($sql,$db);","    ","    $sql = \"CREATE TABLE IF NOT EXISTS `13104036d`.`Destination` (","        `DesName` VARCHAR(45) NOT NULL,","        `DesType` VARCHAR(1) NOT NULL,","        `DesId` INT NOT NULL AUTO_INCREMENT,","        UNIQUE INDEX `DesId_UNIQUE` (`DesName` ASC),","        PRIMARY KEY (`DesId`))","        ENGINE = InnoDB;\";","    mysql_query($sql,$db);","","//-- -----------------------------------------------------","//-- Table `13104036d`.`Accomodation`","//-- -----------------------------------------------------","    $sql = \"DROP TABLE IF EXISTS `13104036d`.`Accomodation` ;\";","    ","    mysql_query($sql,$db);","    ","    $sql = \"CREATE TABLE IF NOT EXISTS `13104036d`.`Accomodation` (","        `AccName` VARCHAR(45) NOT NULL,","        `AccAddress` VARCHAR(45) NOT NULL,","        `AccRating` INT NOT NULL,","        `Destination_DesName` VARCHAR(45) NOT NULL,","        `LAT` DOUBLE NOT NULL,","        `LNG` DOUBLE NOT NULL,","        `AccId` INT NOT NULL AUTO_INCREMENT,","        PRIMARY KEY (`AccId`),","        INDEX `fk_Accomodation_Destination1_idx` (`Destination_DesName` ASC),","        CONSTRAINT `fk_Accomodation_Destination1`","        FOREIGN KEY (`Destination_DesName`)","        REFERENCES `13104036d`.`Destination` (`DesName`)","        ON DELETE NO ACTION","        ON UPDATE NO ACTION)","        ENGINE = InnoDB;\";","    ","    mysql_query($sql,$db);","","//-- -----------------------------------------------------","//-- Table `13104036d`.`TravelPlan`","//-- -----------------------------------------------------","    $sql = \"DROP TABLE IF EXISTS `13104036d`.`TravelPlan` ;\";","    ","    mysql_query($sql,$db);","    ","    $sql = \"CREATE TABLE IF NOT EXISTS `13104036d`.`TravelPlan` (","        `TPId` INT NOT NULL AUTO_INCREMENT,","        `TPName` VARCHAR(45) NOT NULL,","        `TPDuration` INT NOT NULL,","        `TPQuotaMin` INT NULL,","        `Accomodation_AccName` VARCHAR(45) NOT NULL,","        `Destination_DesName` VARCHAR(45) NOT NULL,","        `TPPrice` INT NOT NULL,","        `TPQuotaMax` INT NULL,","        `TPDescrip` VARCHAR(500) NOT NULL,","        `TPSalesCount` INT NULL,","        PRIMARY KEY (`TPId`),","        UNIQUE INDEX `AdminAccount_UNIQUE` (`TPId` ASC),","        INDEX `fk_TravelPlan_Accomodation1_idx` (`Accomodation_AccName` ASC),","        INDEX `fk_TravelPlan_Destination1_idx` (`Destination_DesName` ASC),","        CONSTRAINT `fk_TravelPlan_Accomodation1`","        FOREIGN KEY (`Accomodation_AccName`)","        REFERENCES `13104036d`.`Accomodation` (`AccName`)","        ON DELETE NO ACTION","        ON UPDATE NO ACTION,","        CONSTRAINT `fk_TravelPlan_Destination1`","        FOREIGN KEY (`Destination_DesName`)","        REFERENCES `13104036d`.`Destination` (`DesName`)","        ON DELETE NO ACTION","        ON UPDATE NO ACTION)","        ENGINE = InnoDB;\";","","    mysql_query($sql,$db);","","// -- -----------------------------------------------------","// -- Table `13104036d`.`Admin`","// -- -----------------------------------------------------","    $sql = \"DROP TABLE IF EXISTS `13104036d`.`Admin` ;\";","    ","    mysql_query($sql,$db);","    ","    $sql = \"CREATE TABLE IF NOT EXISTS `13104036d`.`Admin` (","        `AdminAccount` VARCHAR(45) NOT NULL,","        `AdminPassword` VARCHAR(45) NOT NULL,","        PRIMARY KEY (`AdminAccount`),","        UNIQUE INDEX `AdminAccount_UNIQUE` (`AdminAccount` ASC))","        ENGINE = InnoDB;\";","    ","    mysql_query($sql,$db);","","//-- -----------------------------------------------------","//-- Table `13104036d`.`Message`","//-- -----------------------------------------------------","    $sql =  \"DROP TABLE IF EXISTS `13104036d`.`Message` ;\";","    ","    mysql_query($sql,$db);    ","    $sql =  \"CREATE TABLE IF NOT EXISTS `13104036d`.`Message` (","        `MessageId` INT NOT NULL,","        `MessageContent` VARCHAR(500) NULL,","        PRIMARY KEY (`MessageId`))","        ENGINE = InnoDB;\";","","    mysql_query($sql,$db);    ","//-- -----------------------------------------------------","//-- Table `13104036d`.`User_Has_Message`","//-- -----------------------------------------------------","    $sql =  \"DROP TABLE IF EXISTS `13104036d`.`User_Has_Message` ;\";","    ","    mysql_query($sql,$db);","    ","    $sql =  \"CREATE TABLE IF NOT EXISTS `13104036d`.`User_Has_Message` (","        `User_UserAccount` VARCHAR(45) NOT NULL,","        `Message_MessageId` INT NOT NULL,","        PRIMARY KEY (`User_UserAccount`, `Message_MessageId`),","        INDEX `fk_User_has_Message_Message1_idx` (`Message_MessageId` ASC),","        INDEX `fk_User_has_Message_User1_idx` (`User_UserAccount` ASC),","        CONSTRAINT `fk_User_has_Message_User1`","        FOREIGN KEY (`User_UserAccount`)","        REFERENCES `13104036d`.`User` (`UserAccount`)","        ON DELETE NO ACTION","        ON UPDATE NO ACTION,","        CONSTRAINT `fk_User_has_Message_Message1`","        FOREIGN KEY (`Message_MessageId`)","        REFERENCES `13104036d`.`Message` (`MessageId`)","        ON DELETE NO ACTION","        ON UPDATE NO ACTION)","        ENGINE = InnoDB;\";","    ","    mysql_query($sql,$db);","","","//-- -----------------------------------------------------","//-- Table `13104036d`.`UserOrder`","//-- -----------------------------------------------------","    $sql = \"DROP TABLE IF EXISTS `13104036d`.`UserOrder` ;\"","    ;","    ","    mysql_query($sql,$db);","    ","    $sql = \"CREATE TABLE IF NOT EXISTS `13104036d`.`UserOrder` (","        `User_UserAccount` VARCHAR(45) NOT NULL,","        `TravelPlan_TPId` INT NOT NULL,","        `OrderStartDate` DATE NOT NULL,","        `OrderQuota` INT NOT NULL,","        PRIMARY KEY (`User_UserAccount`, `TravelPlan_TPId`),","        INDEX `fk_User_has_TravelPlan_TravelPlan1_idx` (`TravelPlan_TPId` ASC),","        INDEX `fk_User_has_TravelPlan_User1_idx` (`User_UserAccount` ASC),","        CONSTRAINT `fk_User_has_TravelPlan_User1`","        FOREIGN KEY (`User_UserAccount`)","        REFERENCES `13104036d`.`User` (`UserAccount`)","        ON DELETE NO ACTION","        ON UPDATE NO ACTION,","        CONSTRAINT `fk_User_has_TravelPlan_TravelPlan1`","        FOREIGN KEY (`TravelPlan_TPId`)","        REFERENCES `13104036d`.`TravelPlan` (`TPId`)","        ON DELETE NO ACTION","        ON UPDATE NO ACTION)","        ENGINE = InnoDB;\";","    mysql_query($sql,$db);    ","    ","    ","    ","    $sql = \"SET SQL_MODE=@OLD_SQL_MODE;\";","    mysql_query($sql,$db);","    $sql = \"SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;\";","    mysql_query($sql,$db);","    $sql = \"SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;\";","    mysql_query($sql,$db);","    ","    $sql=\"INSERT INTO Admin","        VALUES ('autumnperimemory','111111')\";","    $num=mysql_query($sql);","    ","    $sql=\"INSERT INTO Admin","        VALUES ('cowboymark','111111')\";","    $num=mysql_query($sql);","    ?>"],"id":1}],[{"start":{"row":105,"column":30},"end":{"row":106,"column":60},"action":"insert","lines":["","                UNIQUE INDEX `AccId_UNIQUE` (`AccName` ASC),"],"id":2,"ignore":true}],[{"start":{"row":106,"column":8},"end":{"row":106,"column":16},"action":"remove","lines":["        "],"id":3,"ignore":true}],[{"start":{"row":255,"column":0},"end":{"row":255,"column":4},"action":"remove","lines":["    "],"id":4}],[{"start":{"row":234,"column":26},"end":{"row":234,"column":27},"action":"remove","lines":["N"],"id":5}],[{"start":{"row":234,"column":25},"end":{"row":234,"column":26},"action":"remove","lines":["O"],"id":6}],[{"start":{"row":234,"column":24},"end":{"row":234,"column":25},"action":"remove","lines":["I"],"id":7}],[{"start":{"row":234,"column":23},"end":{"row":234,"column":24},"action":"remove","lines":["T"],"id":8}],[{"start":{"row":234,"column":22},"end":{"row":234,"column":23},"action":"remove","lines":["C"],"id":9}],[{"start":{"row":234,"column":21},"end":{"row":234,"column":22},"action":"remove","lines":["A"],"id":10}],[{"start":{"row":234,"column":21},"end":{"row":234,"column":22},"action":"insert","lines":["C"],"id":11}],[{"start":{"row":234,"column":22},"end":{"row":234,"column":23},"action":"insert","lines":["A"],"id":12}],[{"start":{"row":234,"column":23},"end":{"row":234,"column":24},"action":"insert","lines":["S"],"id":13}],[{"start":{"row":234,"column":24},"end":{"row":234,"column":25},"action":"insert","lines":["C"],"id":14}],[{"start":{"row":234,"column":25},"end":{"row":234,"column":26},"action":"insert","lines":["A"],"id":15}],[{"start":{"row":234,"column":26},"end":{"row":234,"column":27},"action":"insert","lines":["D"],"id":16}],[{"start":{"row":234,"column":27},"end":{"row":234,"column":28},"action":"insert","lines":["E"],"id":17}],[{"start":{"row":229,"column":26},"end":{"row":229,"column":27},"action":"remove","lines":["N"],"id":18}],[{"start":{"row":229,"column":25},"end":{"row":229,"column":26},"action":"remove","lines":["O"],"id":19}],[{"start":{"row":229,"column":24},"end":{"row":229,"column":25},"action":"remove","lines":["I"],"id":20}],[{"start":{"row":229,"column":23},"end":{"row":229,"column":24},"action":"remove","lines":["T"],"id":21}],[{"start":{"row":229,"column":22},"end":{"row":229,"column":23},"action":"remove","lines":["C"],"id":22}],[{"start":{"row":229,"column":21},"end":{"row":229,"column":22},"action":"remove","lines":["A"],"id":23}],[{"start":{"row":229,"column":21},"end":{"row":229,"column":22},"action":"insert","lines":["C"],"id":24}],[{"start":{"row":229,"column":22},"end":{"row":229,"column":23},"action":"insert","lines":["A"],"id":25}],[{"start":{"row":229,"column":23},"end":{"row":229,"column":24},"action":"insert","lines":["S"],"id":26}],[{"start":{"row":229,"column":21},"end":{"row":229,"column":24},"action":"remove","lines":["CAS"],"id":27},{"start":{"row":229,"column":21},"end":{"row":229,"column":28},"action":"insert","lines":["CASCADE"]}],[{"start":{"row":203,"column":26},"end":{"row":203,"column":27},"action":"remove","lines":["N"],"id":28}],[{"start":{"row":203,"column":25},"end":{"row":203,"column":26},"action":"remove","lines":["O"],"id":29}],[{"start":{"row":203,"column":24},"end":{"row":203,"column":25},"action":"remove","lines":["I"],"id":30}],[{"start":{"row":203,"column":23},"end":{"row":203,"column":24},"action":"remove","lines":["T"],"id":31}],[{"start":{"row":203,"column":22},"end":{"row":203,"column":23},"action":"remove","lines":["C"],"id":32}],[{"start":{"row":203,"column":21},"end":{"row":203,"column":22},"action":"remove","lines":["A"],"id":33}],[{"start":{"row":203,"column":21},"end":{"row":203,"column":22},"action":"insert","lines":["C"],"id":34}],[{"start":{"row":203,"column":22},"end":{"row":203,"column":23},"action":"insert","lines":["A"],"id":35}],[{"start":{"row":203,"column":23},"end":{"row":203,"column":24},"action":"insert","lines":["C"],"id":36}],[{"start":{"row":203,"column":23},"end":{"row":203,"column":24},"action":"remove","lines":["C"],"id":37}],[{"start":{"row":203,"column":23},"end":{"row":203,"column":24},"action":"insert","lines":["S"],"id":38}],[{"start":{"row":203,"column":24},"end":{"row":203,"column":25},"action":"insert","lines":["C"],"id":39}],[{"start":{"row":203,"column":25},"end":{"row":203,"column":26},"action":"insert","lines":["A"],"id":40}],[{"start":{"row":203,"column":26},"end":{"row":203,"column":27},"action":"insert","lines":["D"],"id":41}],[{"start":{"row":203,"column":27},"end":{"row":203,"column":28},"action":"insert","lines":["E"],"id":42}],[{"start":{"row":198,"column":21},"end":{"row":198,"column":27},"action":"remove","lines":["ACTION"],"id":43},{"start":{"row":198,"column":21},"end":{"row":198,"column":28},"action":"insert","lines":["CASCADE"]}],[{"start":{"row":147,"column":21},"end":{"row":147,"column":27},"action":"remove","lines":["ACTION"],"id":44},{"start":{"row":147,"column":21},"end":{"row":147,"column":28},"action":"insert","lines":["CASCADE"]}],[{"start":{"row":142,"column":21},"end":{"row":142,"column":27},"action":"remove","lines":["ACTION"],"id":45},{"start":{"row":142,"column":21},"end":{"row":142,"column":28},"action":"insert","lines":["CASCADE"]}],[{"start":{"row":111,"column":21},"end":{"row":111,"column":27},"action":"remove","lines":["ACTION"],"id":46},{"start":{"row":111,"column":21},"end":{"row":111,"column":28},"action":"insert","lines":["CASCADE"]}],[{"start":{"row":234,"column":20},"end":{"row":234,"column":21},"action":"remove","lines":[" "],"id":47}],[{"start":{"row":234,"column":19},"end":{"row":234,"column":20},"action":"remove","lines":["O"],"id":48}],[{"start":{"row":234,"column":18},"end":{"row":234,"column":19},"action":"remove","lines":["N"],"id":49}],[{"start":{"row":229,"column":20},"end":{"row":229,"column":21},"action":"remove","lines":[" "],"id":50}],[{"start":{"row":229,"column":19},"end":{"row":229,"column":20},"action":"remove","lines":["O"],"id":51}],[{"start":{"row":229,"column":18},"end":{"row":229,"column":19},"action":"remove","lines":["N"],"id":52}],[{"start":{"row":203,"column":20},"end":{"row":203,"column":21},"action":"remove","lines":[" "],"id":53}],[{"start":{"row":203,"column":19},"end":{"row":203,"column":20},"action":"remove","lines":["O"],"id":54}],[{"start":{"row":203,"column":18},"end":{"row":203,"column":19},"action":"remove","lines":["N"],"id":55}],[{"start":{"row":198,"column":20},"end":{"row":198,"column":21},"action":"remove","lines":[" "],"id":56}],[{"start":{"row":198,"column":19},"end":{"row":198,"column":20},"action":"remove","lines":["O"],"id":57}],[{"start":{"row":198,"column":18},"end":{"row":198,"column":19},"action":"remove","lines":["N"],"id":58}],[{"start":{"row":147,"column":20},"end":{"row":147,"column":21},"action":"remove","lines":[" "],"id":59}],[{"start":{"row":147,"column":19},"end":{"row":147,"column":20},"action":"remove","lines":["O"],"id":60}],[{"start":{"row":147,"column":18},"end":{"row":147,"column":19},"action":"remove","lines":["N"],"id":61}],[{"start":{"row":142,"column":20},"end":{"row":142,"column":21},"action":"remove","lines":[" "],"id":62}],[{"start":{"row":142,"column":19},"end":{"row":142,"column":20},"action":"remove","lines":["O"],"id":63}],[{"start":{"row":142,"column":18},"end":{"row":142,"column":19},"action":"remove","lines":["N"],"id":64}],[{"start":{"row":111,"column":20},"end":{"row":111,"column":21},"action":"remove","lines":[" "],"id":65}],[{"start":{"row":111,"column":19},"end":{"row":111,"column":20},"action":"remove","lines":["O"],"id":66}],[{"start":{"row":111,"column":18},"end":{"row":111,"column":19},"action":"remove","lines":["N"],"id":67}],[{"start":{"row":111,"column":17},"end":{"row":111,"column":18},"action":"remove","lines":[" "],"id":68}],[{"start":{"row":111,"column":17},"end":{"row":111,"column":18},"action":"insert","lines":[" "],"id":69}]]},"ace":{"folds":[],"scrolltop":1905.5,"scrollleft":0,"selection":{"start":{"row":101,"column":9},"end":{"row":101,"column":28},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":118,"state":"php-start","mode":"ace/mode/php"}},"timestamp":1480598777601,"hash":"c6be45164d497ce70166cae06305c136e82ffcf4"}